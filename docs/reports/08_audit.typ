#import "conf.typ": lab_report
#show: lab_report.with(
  num: 8,
  subject: "Безпека програм та даних",
  title: "Підсистема реєстрації",
  authors: ("Неголюк О.О.", "Ратушняк М.А."),
  reviewer: "Остапов С.Е.",
  year: 2025,
)

= МЕТА РОБОТИ

#lorem(40)

#pagebreak()

= ПРОТОКОЛ РОБОТИ

== Представлення записів аудиту у базі даних

#lorem(40)

== Реалізація аудиту доступу до об'єктів системи

#highlight[
  У нашій системі об'єктом є кожен веб-ресурс (endpoint) серверної частини.
  Мова йтеме про реалізацію сервісу для аудиту, а також декоратору `@audit`,
  який буде присутній над *кожною* FastAPI route функцією. Цей декоратор має
  використовувати ім'я функції у якості `action` поля запису аудиту, а також
  опрацьовувати можливі виключення, встановлюючи поле `is_success`. Додаткова
  інформація про виключення (наприклад, поле `detail` у екземпляра класу
  `HTTPException`) має зберігатися у полі `reason` запису аудиту.

  Для веб-ресурсів, що потребують автентифікованого суб'єкта, декоратор має
  діставати ідентифікатор користувача (за наявності) і записувати у поле
  `user_id`.

  Приклад використання:

  ```
  @router.get("/users/{id}")
  @authorize(AccessLevel.CONFIDENTIAL)
  @audit()
  async def read_user(
      id: Annotated[int, Path()], db: PostgresRunnerDep, subject: CurrentSubjectDep
  ) -> UserResponse:
      return auth_service.get_user_by_id(id, db=db)
  ```
]

== Відображення записів аудиту на клієнтській частині

#lorem(40)

#pagebreak()

= ВІДПОВІДІ НА КОНТРОЛЬНІ ЗАПИТАННЯ

*1. Спробуйте ідентифікувати ознаки тих чи інших порушень безпеки, спираючись
на отриманий вами журнал реєстрації. Охарактеризуйте труднощі, що виникають при
рішенні цієї задачі.*

#lorem(40)

*2. Проаналізуйте взаємодію підсистеми реєстрації з підсистемами автентифікації
та управління доступом в розробленій системі.*

#lorem(40)

*3. Оцініть рівень реєстрації в розробленій системі згідно НД ТЗІ 2.5-004- 99.
Що можна зробити, щоб його підвищити?*

Дивись #underline[
  #link(
    "https://tzi.ua/assets/files/%D0%9D%D0%94-%D0%A2%D0%97%D0%86-2.5-004-99.pdf#page=30"
  )[
    розділ 9.1. Реєстрація
  ]
]

#lorem(40)

#pagebreak()

= ВИСНОВКИ

#lorem(40)
