# План тестування стійкості системи

## 1. Мета
Перевірити, що система (FastAPI + PostgreSQL + Toga frontend)  
працює стабільно при збоях окремих компонентів, коректно обробляє помилки та зберігає функціональність.

## 2. Об’єкти тестування
- **Toga frontend** — логіка вибору файлів, обробка помилок, навігація.
- **FastAPI backend** — ендпоінти `/submissions` і `/pdf-to-audio`.
- **PostgreSQL** — стабільність під навантаженням.
- **Docker** — поведінка при перезапуску або відмові контейнерів.

## 3. Види тестів

| № | Тип тесту | Опис | Очікуваний результат |
|---|------------|------|----------------------|
| 1 | Тест GUI помилок | Вимкнути API, натиснути “Convert” у Toga | Відображається повідомлення “Server unavailable” |
| 2 | Тест навантаження | 50 одночасних запитів POST /submissions | Backend стабільний, середній час відповіді ≤ 2 с |
| 3 | Тест некоректного PDF | Обрати пошкоджений файл у Toga | Відображається “Failed to convert PDF” |
| 4 | Тест помилкових даних | Ввести неправильний токен | Отримано помилку авторизації, користувача перенаправлено на login |
| 5 | Тест відмови БД | Зупинити контейнер PostgreSQL | Backend повертає 500, frontend показує повідомлення |
| 6 | Тест файлової системи | Спробувати записати аудіо у недоступну директорію | Відображається “File selection error” |
| 7 | Тест перезапуску Docker | Виконати `docker restart fastapi` під час запиту | Після рестарту система відновлює роботу |
| 8 | Тест асинхронності | Одночасно запустити 2 конвертації в Toga | Обидва процеси виконуються без блокування інтерфейсу |

## 4. Інструменти тестування
- **pytest-asyncio** — для тестів асинхронних функцій Toga.
- **pytest + httpx** — тестування API FastAPI.
- **Locust / k6** — для навантажувальних тестів backend.
- **Docker Compose** — для емуляції збоїв контейнерів.
- **Manual QA (ручне тестування)** — тестування UI подій у Toga.

## 5. Критерії прийняття
- Всі критичні помилки відображаються користувачеві.
- FastAPI не падає при збоях PostgreSQL або некоректних даних.
- Toga-застос
