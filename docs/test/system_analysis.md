# Аналіз системи

## 1. Опис системи

Система — це кросплатформний застосунок для подання студентських робіт та конвертації PDF у аудіо.  
Складається з двох частин:  
- **Backend (FastAPI)** — серверна частина, що забезпечує API для операцій із поданнями (`submissions`) та модулем `pdf_to_audio`.  
- **Frontend (Toga)** — настільний застосунок, створений на Python з використанням фреймворку BeeWare Toga, який взаємодіє з бекендом через HTTP API.  
- **PostgreSQL** — база даних для зберігання інформації про користувачів, подані роботи, статуси конвертації.  
- **Docker** — середовище розгортання контейнерів (backend, database, іноді TTS-сервіс).  

## 2. Потенційні місця відмов

| Компонент | Потенційна відмова | Причина | Наслідок |
|------------|--------------------|----------|-----------|
| Toga frontend | Помилка GUI або зависання події | Некоректний асинхронний виклик (`asyncio.create_task`), проблеми з діалогами | Програма не реагує або завершується з помилкою |
| Backend (FastAPI) | Internal Server Error (500) | Некоректні дані, помилка логіки або TTS-конвертації | Застосунок Toga отримує виняток, не може завершити запит |
| PostgreSQL | Втрата з’єднання або збій контейнера | Docker проблема, мережевий збій | Неможливо створювати/читати submissions |
| PDF to Audio (TTS) | Відмова під час перетворення | Відсутній доступ до файлу, помилка FFmpeg | Користувач отримує помилку “Conversion error” |
| Docker | Контейнер не піднявся або перевантажений | Помилка в `docker-compose.yml`, брак пам’яті | Система частково недоступна |
| FileSystem (Toga) | Неможливо зчитати або записати файл | Відсутні права або неправильний шлях | PDF не відкривається / аудіо не зберігається |
| Token Auth | Невірний або прострочений токен | Користувач не авторизований | Неможливо виконати запит до API |

## 3. Умови виникнення відмов
- Одночасна обробка кількох PDF-файлів.
- Нестача оперативної пам’яті у Docker-контейнерах.
- Втрата інтернет-з’єднання між застосунком і API.
- Помилки в асинхронних подіях Toga.
- Відсутність валідних облікових даних (`navigator.credentials_path`).
